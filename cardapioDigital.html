<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Card√°pio Digital ‚Äî Prot√≥tipo</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent-1: #f6b93b;
      --accent-2: #f39c12;
      --muted: #6c757d;
      --card-radius: 14px;
    }

    html, body { height: 100%; margin: 0; padding-bottom: 80px; background: linear-gradient(180deg, #fbfbfc 0%, #f0f2f5 100%); color: #222; font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }

    /* Cabe√ßalho */
    .site-header {
      background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
      color: #fff;
      height: 56px;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0 18px;
      box-shadow: 0 6px 18px rgba(243,156,18,0.12);
    }
    .brand-title {
      font-family: "Playfair Display", serif;
      font-size: 1.15rem;
      letter-spacing: 0.6px;
      margin: 0;
    }
    .brand-sub {
      font-size: 0.75rem;
      opacity: 0.95;
      margin: 0;
    }

    .container-main {
      max-width: 1200px;
      margin: 22px auto;
      padding: 0 16px;
    }

    /* Controles topo */
    .controls {
      display: flex;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }
    .search-input {
      flex: 1 1 320px;
      max-width: 620px;
    }
    .filter-wrap {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }

    /* Cards */
    .card-menu {
      border-radius: var(--card-radius);
      overflow: hidden;
      transition: transform 0.28s ease, box-shadow 0.28s ease;
      box-shadow: 0 3px 12px rgba(18, 18, 18, 0.06);
      background: #fff;
      height: 100%;
      display: flex;
      flex-direction: column;
      cursor: pointer;
    }
    .card-menu:hover {
      transform: translateY(-8px);
      box-shadow: 0 14px 30px rgba(18, 18, 18, 0.12);
    }
    .card-img {
      height: 180px;
      object-fit: cover;
      width: 100%;
      display: block;
    }
    .card-body-custom {
      padding: 14px 16px;
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .price {
      color: #2d9958;
      font-weight: 700;
      font-size: 1.05rem;
    }
    .badges {
      gap: 6px;
      display: flex;
      flex-wrap: wrap;
    }

    /* Ribbon Promo/Novo */
    .ribbon {
      position: absolute;
      top: 10px;
      left: 10px;
      background: linear-gradient(90deg, #ff6b6b, #ff8e72);
      color: white;
      padding: 6px 10px;
      border-radius: 8px;
      font-weight: 700;
      font-size: 0.78rem;
      box-shadow: 0 6px 18px rgba(255, 86, 86, 0.12);
      z-index: 10;
    }

    /* Modal imagem */
    #modalImagem {
      width: 100%;
      max-height: 360px;
      object-fit: cover;
      border-radius: 8px;
    }

    /* Footer fixo */
    footer {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: rgba(44, 62, 80, 0.96);
      color: #fff;
      padding: 10px 14px;
      display: flex;
      justify-content: center;
      gap: 18px;
      align-items: center;
      font-size: 0.95rem;
      z-index: 60;
    }

    /* WhatsApp flutuante */
    .btn-wa {
      position: fixed;
      right: 18px;
      bottom: 84px;
      z-index: 80;
      border-radius: 50%;
      width: 58px;
      height: 58px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.18);
      background: linear-gradient(180deg, #25D366, #128C7E);
      color: #fff;
      font-size: 22px;
      text-decoration: none;
    }

    /* Responsividade para cards: 2 colunas em todos tamanhos */
    #menu {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    @media(min-width: 768px) {
      /* 2 colunas tamb√©m no desktop para n√£o ficar muito esticado */
      #menu {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media(min-width: 1200px) {
      /* Para telas maiores, pode ser 3 colunas se quiser */
      #menu {
        grid-template-columns: repeat(3, 1fr);
      }
    }
  </style>
</head>
<body>

  <header class="site-header">
    <div style="display:flex;align-items:center;gap:12px;">
      <div style="width:44px;height:44px;border-radius:9px;background:rgba(255,255,255,0.13);display:flex;align-items:center;justify-content:center;font-weight:700;">
        üçΩ
      </div>
      <div>
        <p class="brand-title">Restaurante Prot√≥tipo</p>
        <p class="brand-sub">Sabores que conquistam ‚Äî card√°pio digital</p>
      </div>
    </div>
    <div style="margin-left:auto;color:rgba(255,255,255,0.95);font-weight:600">Prot√≥tipo para prospec√ß√£o</div>
  </header>

  <main class="container-main">

    <div class="controls">
      <div class="search-input input-group">
        <span class="input-group-text"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#6c757d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
        <input id="search" class="form-control" placeholder="Buscar prato, ingrediente ou tag (ex: veg, promo)" />
        <button id="qrBtn" class="btn btn-outline-secondary" title="Gerar QR do card√°pio">QR</button>
      </div>

      <div style="display:flex;gap:8px;align-items:center">
        <select id="sort" class="form-select" style="width:150px">
          <option value="popular">Ordenar: padr√£o</option>
          <option value="price-asc">Pre√ßo ‚Üë</option>
          <option value="price-desc">Pre√ßo ‚Üì</option>
          <option value="novo">Novos</option>
        </select>
        <div class="filter-wrap" id="categories"></div>
      </div>
    </div>

    <div id="promoBanner" class="mb-3" style="display:flex;gap:10px;align-items:center;">
      <div style="flex:1;border-radius:12px;padding:12px 16px;background:linear-gradient(90deg, rgba(243,156,18,0.12), rgba(246,185,59,0.06));display:flex;justify-content:space-between;align-items:center;">
        <div>
          <strong>Combo do dia:</strong> Lasanha vegetariana + Ta√ßa de sorvete por <strong>R$ 45,00</strong>
        </div>
        <div style="font-size:0.9rem;color:var(--muted)">V√°lido hoje ‚ú¶ Destaque para prospec√ß√£o</div>
      </div>
    </div>

    <section id="menu">
      <!-- Cards gerados via JS -->
    </section>

  </main>

  <!-- Modal detalhes -->
  <div class="modal fade" id="modalDetalhes" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background:#2c3e50;color:#fff">
          <h5 class="modal-title" id="modalDetalhesLabel">Detalhes</h5>
          <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-3">
          <img id="modalImagem" src="" alt="" class="mb-3" />
          <h4 id="modalNome"></h4>
          <p id="modalDescricao" style="color:#444"></p>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
            <div class="price" id="modalPreco"></div>
            <div id="modalTags" class="badges"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal aviso idade -->
  <div class="modal fade" id="modalIdade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background:var(--accent-2);color:#fff">
          <h5 class="modal-title">Aviso ‚Äî Bebidas alco√≥licas</h5>
        </div>
        <div class="modal-body">
          <p>Este card√°pio cont√©m bebidas alco√≥licas. √â permitido apenas para maiores de 18 anos.</p>
          <div class="d-flex gap-2 justify-content-end">
            <button id="idadeNao" class="btn btn-outline-secondary btn-sm">N√£o</button>
            <button id="idadeSim" class="btn btn-success btn-sm">Tenho 18+</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal QR -->
  <div class="modal fade" id="modalQR" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background:#34495e;color:#fff">
          <h5 class="modal-title">QRCode do Card√°pio</h5>
          <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center p-3">
          <img id="qrImage" src="" alt="QR" style="width:180px;height:180px"/>
          <p class="mt-2 small text-muted">Escaneie para abrir este card√°pio no celular</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer fixo -->
  <footer>
    <div>üìç Rua Exemplo, 123 ‚Äî Atendimento: 12:00‚Äì23:00</div>
    <div style="opacity:0.85"> ‚Ä¢ </div>
    <div style="opacity:0.9">Prot√≥tipo ‚Ä¢ Atualize via GitHub</div>
  </footer>

  <!-- WhatsApp flutuante -->
  <a id="whatsappBtn" class="btn-wa" href="https://wa.me/5511999999999" target="_blank" title="Contato WhatsApp">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M20 4.5A10 10 0 104.5 20L3 21l1.1-2.9A10 10 0 0020 4.5zM12 6.5a5.5 5.5 0 015.5 5.5c0 1.1-.3 2.1-.9 3l.6 1.6-1.7-.5a5.5 5.5 0 01-3 0 5.5 5.5 0 01-3.1-2.7 5.5 5.5 0 01.1-4.7A5.5 5.5 0 0112 6.5z"/></svg>
  </a>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Dados produtos atualizados com imagens melhores (URLs p√∫blicas confi√°veis)
    const produtos = [
      {id:1,categoria:"Entradas",nome:"Bruschetta Tradicional",descricao:"P√£o crocante, tomate, manjeric√£o e azeite extravirgem.",preco:20.00,imagem:"https://images.unsplash.com/photo-1562967916-eb82221dfb1e?auto=format&fit=crop&w=800&q=80",tags:["veg"]},
      {id:2,categoria:"Entradas",nome:"Bolinho de Bacalhau",descricao:"Croquete crocante servido com maionese temperada.",preco:28.00,imagem:"https://images.unsplash.com/photo-1562967916-eb82221dfb1e?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:3,categoria:"Pratos Principais",nome:"Espaguete √† Bolonhesa",descricao:"Molho ragu de carne lenta, parmes√£o ralado.",preco:36.50,imagem:"https://images.unsplash.com/photo-1525755662778-989d0524087e?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:4,categoria:"Pratos Principais",nome:"Risoto de Cogumelos",descricao:"Arborio cremoso com mix de cogumelos salteados.",preco:39.00,imagem:"https://images.unsplash.com/photo-1543353071-087092ec393a?auto=format&fit=crop&w=800&q=80",tags:["veg","novo"]},
      {id:5,categoria:"Pratos Principais",nome:"Frango ao Curry",descricao:"Frango ao molho curry suave e arroz basmati.",preco:42.00,imagem:"https://images.unsplash.com/photo-1600891964798-cf8d79990b13?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:6,categoria:"Sobremesas",nome:"Pudim de Leite",descricao:"Pudim tradicional com calda aveludada.",preco:14.00,imagem:"https://images.unsplash.com/photo-1559628239-0d6d76d1a414?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:7,categoria:"Sobremesas",nome:"Ta√ßa de Sorvete",descricao:"Tr√™s bolas com calda √† escolha.",preco:15.00,imagem:"https://images.unsplash.com/photo-1505253210343-d6e760a4a869?auto=format&fit=crop&w=800&q=80",tags:["promo"],destaque:"promo"},
      {id:8,categoria:"Bebidas N√£o Alco√≥licas",nome:"Suco Natural de Laranja",descricao:"Espremido na hora.",preco:8.00,imagem:"https://images.unsplash.com/photo-1570189886747-c7f7c2efc47b?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:9,categoria:"Bebidas N√£o Alco√≥licas",nome:"Cappuccino Cremoso",descricao:"Caf√© espresso com leite aerado e canela.",preco:10.00,imagem:"https://images.unsplash.com/photo-1511920170033-f8396924c348?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:10,categoria:"Bebidas Alco√≥licas",nome:"Cerveja Artesanal (long neck)",descricao:"Lager refrescante ‚Äî 330ml.",preco:12.00,imagem:"https://images.unsplash.com/photo-1549887534-029bdabe2f8d?auto=format&fit=crop&w=800&q=80",tags:[]},
      {id:11,categoria:"Bebidas Alco√≥licas",nome:"Vinho Tinto ‚Äî Cabernet Sauvignon",descricao:"Notas de frutas vermelhas e taninos suaves.",preco:65.00,imagem:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=800&q=80",tags:["promo"],destaque:"promo"},
      {id:12,categoria:"Bebidas Alco√≥licas",nome:"Whisky Single Malt",descricao:"Sabor encorpado com aroma defumado.",preco:120.00,imagem:"https://images.unsplash.com/photo-1520880867055-1e30d1cb001c?auto=format&fit=crop&w=800&q=80",tags:[]}
    ];

    // Criar filtro de categorias dinamicamente
    const categorias = [...new Set(produtos.map(p => p.categoria))];

    const categoriesContainer = document.getElementById('categories');

    categorias.forEach(cat => {
      const label = document.createElement('label');
      label.style.cursor = 'pointer';
      label.style.userSelect = 'none';
      label.innerHTML = `
        <input type="checkbox" name="categoria" value="${cat}" checked style="margin-right:6px;">
        ${cat}
      `;
      categoriesContainer.appendChild(label);
    });

    const menu = document.getElementById('menu');
    const searchInput = document.getElementById('search');
    const sortSelect = document.getElementById('sort');
    const idadeModal = new bootstrap.Modal(document.getElementById('modalIdade'));
    const modalDetalhes = new bootstrap.Modal(document.getElementById('modalDetalhes'));
    const qrModal = new bootstrap.Modal(document.getElementById('modalQR'));
    const qrBtn = document.getElementById('qrBtn');

    // Controle idade para bebidas alco√≥licas
    let maiorIdadeConfirmada = false;
    const idadeSimBtn = document.getElementById('idadeSim');
    const idadeNaoBtn = document.getElementById('idadeNao');

    idadeSimBtn.onclick = () => {
      maiorIdadeConfirmada = true;
      idadeModal.hide();
      renderProdutos();
    };
    idadeNaoBtn.onclick = () => {
      maiorIdadeConfirmada = false;
      idadeModal.hide();
      alert('Voc√™ n√£o pode visualizar bebidas alco√≥licas.');
      // Remove bebidas alco√≥licas da visualiza√ß√£o
      renderProdutos();
    };

    // Verificar se tem bebida alco√≥lica, se sim, pede confirma√ß√£o
    function verificarIdade() {
      const temAlcool = produtos.some(p => p.categoria.toLowerCase().includes('alco√≥licas'));
      if (temAlcool && !maiorIdadeConfirmada) {
        idadeModal.show();
      } else {
        renderProdutos();
      }
    }

    function renderProdutos() {
      // Filtrar por categorias selecionadas
      const checkedCategorias = Array.from(document.querySelectorAll('input[name="categoria"]:checked')).map(e => e.value);
      const searchTerm = searchInput.value.trim().toLowerCase();

      let filtrados = produtos.filter(p => checkedCategorias.includes(p.categoria));

      if (searchTerm) {
        filtrados = filtrados.filter(p =>
          p.nome.toLowerCase().includes(searchTerm) ||
          p.descricao.toLowerCase().includes(searchTerm) ||
          p.tags.some(t => t.toLowerCase().includes(searchTerm))
        );
      }

      // Se maiorIdadeConfirmada=false, remove bebidas alco√≥licas
      if (!maiorIdadeConfirmada) {
        filtrados = filtrados.filter(p => !p.categoria.toLowerCase().includes('alco√≥licas'));
      }

      // Ordena√ß√£o
      switch(sortSelect.value) {
        case 'price-asc':
          filtrados.sort((a,b) => a.preco - b.preco);
          break;
        case 'price-desc':
          filtrados.sort((a,b) => b.preco - a.preco);
          break;
        case 'novo':
          filtrados.sort((a,b) => (b.tags.includes('novo') ? 1 : 0) - (a.tags.includes('novo') ? 1 : 0));
          break;
        default:
          // Ordem padr√£o (id)
          filtrados.sort((a,b) => a.id - b.id);
      }

      menu.innerHTML = '';

      if(filtrados.length === 0) {
        menu.innerHTML = `<p style="grid-column: 1 / -1; text-align:center; font-size:1.1rem; color:var(--muted);">Nenhum produto encontrado.</p>`;
        return;
      }

      filtrados.forEach(prod => {
        const card = document.createElement('article');
        card.classList.add('card-menu');
        card.style.position = 'relative';

        let ribbonHTML = '';
        if(prod.destaque === 'promo') ribbonHTML = `<div class="ribbon">Promo</div>`;
        else if(prod.tags.includes('novo')) ribbonHTML = `<div class="ribbon">Novo</div>`;

        card.innerHTML = `
          ${ribbonHTML}
          <img src="${prod.imagem}" alt="${prod.nome}" class="card-img" loading="lazy" onerror="this.onerror=null;this.src='https://via.placeholder.com/400x250?text=Imagem+Indispon√≠vel';" />
          <div class="card-body-custom">
            <h5 style="margin-bottom:6px;">${prod.nome}</h5>
            <p style="flex-grow:1; color:#555; font-size:0.9rem;">${prod.descricao}</p>
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div class="price">R$ ${prod.preco.toFixed(2)}</div>
              <div class="badges">
                ${prod.tags.map(t => `<span class="badge bg-secondary text-uppercase" style="font-size:0.7rem">${t}</span>`).join('')}
              </div>
            </div>
          </div>
        `;

        card.onclick = () => abrirModal(prod);
        menu.appendChild(card);
      });
    }

    function abrirModal(prod) {
      document.getElementById('modalImagem').src = prod.imagem;
      document.getElementById('modalImagem').alt = prod.nome;
      document.getElementById('modalNome').textContent = prod.nome;
      document.getElementById('modalDescricao').textContent = prod.descricao;
      document.getElementById('modalPreco').textContent = `R$ ${prod.preco.toFixed(2)}`;

      const modalTags = document.getElementById('modalTags');
      modalTags.innerHTML = '';
      prod.tags.forEach(t => {
        const span = document.createElement('span');
        span.className = 'badge bg-secondary text-uppercase';
        span.style.fontSize = '0.75rem';
        span.style.marginRight = '6px';
        span.textContent = t;
        modalTags.appendChild(span);
      });

      modalDetalhes.show();
    }

    // Eventos
    searchInput.addEventListener('input', () => {
      renderProdutos();
    });

    sortSelect.addEventListener('change', () => {
      renderProdutos();
    });

    categoriesContainer.addEventListener('change', () => {
      renderProdutos();
    });

    // QR code simples do site (aqui s√≥ um exemplo gerado)
    qrBtn.onclick = () => {
      // Exemplo QR para URL fixa, pode alterar conforme seu dom√≠nio
      const url = window.location.href;
      const qrSrc = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(url)}`;
      document.getElementById('qrImage').src = qrSrc;
      qrModal.show();
    };

    // Ao carregar a p√°gina
    window.onload = () => {
      verificarIdade();
    };
  </script>
</body>
</html>

